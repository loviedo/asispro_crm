
<!-- CIERRE DEL DIV WRAPPER y DEL DIV CONTENT-->      
            <!-- jQuery CDN - Slim version (=without AJAX) -->
            <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
            <!-- Popper.JS -->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
            <!-- Bootstrap JS -->
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
            

            <!-- Datatables -->
            <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
            <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
            
            <!-- CDN AGREGADOS PARA BOTONES-->
            <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.5.2/js/dataTables.buttons.min.js"></script>

            <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
            <script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.html5.min.js"></script>
            <script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.print.min.js"></script>
            <!-- FIN CDN AGREGADOS PARA BOTONES-->




            <!--<script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>-->
            <!--<script src="https://code.jquery.com/jquery-3.3.1.js"></script>-->

            <script type="text/javascript">
                $(document).ready(function () {
                    $('#sidebarCollapse').on('click', function () {
                        $('#sidebar').toggleClass('active');
                    });
                    //debug
                    $('#dtBasicExample').DataTable(
                        //{"language": {"url": "//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/German.json"}}
                    );

                    $('#tablex').DataTable({
                            "scrollY":        "1000px",//tamanho de la tabla // agrandamos para mostrar lo de planificacion
                            "scrollCollapse": true, //collapse de la tabla  
                            "language": {
                            "sProcessing":     "Procesando...",
                            "sLengthMenu":     "Mostrar _MENU_ registros",
                            "sZeroRecords":    "No se encontraron resultados",
                            "sEmptyTable":     "Ningún dato disponible en esta tabla",
                            "sInfo":           "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                            "sInfoEmpty":      "Mostrando registros del 0 al 0 de un total de 0 registros",
                            "sInfoFiltered":   "(filtrado de un total de _MAX_ registros)",
                            "sInfoPostFix":    "",
                            "sSearch":         "Buscar:",
                            "sUrl":            "",
                            "sInfoThousands":  ",",
                            "sLoadingRecords": "Cargando...",
                            "oPaginate": {
                                "sFirst":    "Primero",
                                "sLast":     "Último",
                                "sNext":     "Siguiente",
                                "sPrevious": "Anterior"
                            },
                            "oAria": {
                                "sSortAscending":  ": Activar para ordenar la columna de manera ascendente",
                                "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                            }
                        }}
                    );

                    //tabla de gastos con botones
                    $('#tablex_gastos').DataTable({
                        "scrollY":        "600px",//tamanho standard de la tabla
                        "scrollCollapse": true, //collapse de la tabla  
                        "language": {
                            "sProcessing":     "Procesando...",
                            "sLengthMenu":     "Mostrar _MENU_ registros",
                            "sZeroRecords":    "No se encontraron resultados",
                            "sEmptyTable":     "Ningún dato disponible en esta tabla",
                            "sInfo":           "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                            "sInfoEmpty":      "Mostrando registros del 0 al 0 de un total de 0 registros",
                            "sInfoFiltered":   "(filtrado de un total de _MAX_ registros)",
                            "sInfoPostFix":    "",
                            "sSearch":         "Buscar:",
                            "sUrl":            "",
                            "sInfoThousands":  ",",
                            "sLoadingRecords": "Cargando...",
                            "oPaginate": {
                                "sFirst":    "Primero",
                                "sLast":     "Último",
                                "sNext":     "Siguiente",
                                "sPrevious": "Anterior"
                            },
                            "oAria": {
                                "sSortAscending":  ": Activar para ordenar la columna de manera ascendente",
                                "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                            }
                        },
                        dom: 'l<".margin" B>frtip',
                        //instanciamos botones
                        buttons: [{extend:'copyHtml5', text: 'Copiar', titleAttr: 'Copiar'}, {
                            extend: 'excelHtml5',
                            customize: function( xlsx ) {
                                var _excelSpecials = [
                                    { match: /^\-?\d+\.\d%$/,       style: 60, fmt: function (d) { return d/100; } }, // Precent with d.p.
                                    { match: /^\-?\d+\.?\d*%$/,     style: 56, fmt: function (d) { return d/100; } }, // Percent
                                    { match: /^\-?\$[\d,]+.?\d*$/,  style: 57 }, // Dollars
                                    { match: /^\-?£[\d,]+.?\d*$/,   style: 58 }, // Pounds
                                    { match: /^\-?€[\d,]+.?\d*$/,   style: 59 }, // Euros
                                    { match: /^\-?\d+$/,            style: 65 }, // Numbers without thousand separators
                                    { match: /^\-?\d+\.\d{2}$/,     style: 66 }, // Numbers 2 d.p. without thousands separators
                                    { match: /^\([\d,]+\)$/,        style: 61, fmt: function (d) { return -1 * d.replace(/[\(\)]/g, ''); } },  // Negative numbers indicated by brackets
                                    { match: /^\([\d,]+\.\d{2}\)$/, style: 62, fmt: function (d) { return -1 * d.replace(/[\(\)]/g, ''); } },  // Negative numbers indicated by brackets - 2d.p.
                                    { match: /^\-?[\d,]+$/,         style: 63 }, // Numbers with thousand separators
                                    { match: /^\-?[\d,]+\.\d{2}$/,  style: 64 },  // Numbers with 2 d.p. and thousands separators
                                    { match: /^[\d]{4}\-[\d]{2}\-[\d]{2}$/, style: 67, fmt: function (d) {return Math.round(25569 + (Date.parse(d) / (86400 * 1000)));}}//Date yyyy-mm-dd
                                ];
                            }
                        }, { extend: 'print', text: 'Imprimir'} ]
                        
                        //buttons: ['pageLength', 'copy', 'excel', 'print']
                        //buttons: ['copy', 'excel', 'pdf', 'print']//debug
                    });

                    var RRHH_DATOS = $('#table_rrhh_mano').DataTable({
                            "scrollY":        "600px",//tamanho de la tabla
                            "scrollCollapse": true, //collapse de la tabla  
                            "language": {
                            "sProcessing":     "Procesando...",
                            "sLengthMenu":     "Mostrar _MENU_ registros",
                            "sZeroRecords":    "No se encontraron resultados",
                            "sEmptyTable":     "Ningún dato disponible en esta tabla",
                            "sInfo":           "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                            "sInfoEmpty":      "Mostrando registros del 0 al 0 de un total de 0 registros",
                            "sInfoFiltered":   "(filtrado de un total de _MAX_ registros)",
                            "sInfoPostFix":    "",
                            "sSearch":         "Buscar:",
                            "sUrl":            "",
                            "sInfoThousands":  ",",
                            "sLoadingRecords": "Cargando...",
                            "oPaginate": {
                                "sFirst":    "Primero",
                                "sLast":     "Último",
                                "sNext":     "Siguiente",
                                "sPrevious": "Anterior"
                            },
                            "oAria": {
                                "sSortAscending":  ": Activar para ordenar la columna de manera ascendente",
                                "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                            }
                        }}
                    );

                    var OT_DATOS_1 = $('#table_ot_plan_m_mano').DataTable({
                            "scrollY":        "600px",//tamanho de la tabla
                            "scrollCollapse": true, //collapse de la tabla  
                            "language": {
                            "sProcessing":     "Procesando...",
                            "sLengthMenu":     "Mostrar _MENU_ registros",
                            "sZeroRecords":    "No se encontraron resultados",
                            "sEmptyTable":     "Ningún dato disponible en esta tabla",
                            "sInfo":           "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                            "sInfoEmpty":      "Mostrando registros del 0 al 0 de un total de 0 registros",
                            "sInfoFiltered":   "(filtrado de un total de _MAX_ registros)",
                            "sInfoPostFix":    "",
                            "sSearch":         "Buscar:",
                            "sUrl":            "",
                            "sInfoThousands":  ",",
                            "sLoadingRecords": "Cargando...",
                            "oPaginate": {
                                "sFirst":    "Primero",
                                "sLast":     "Último",
                                "sNext":     "Siguiente",
                                "sPrevious": "Anterior"
                            },
                            "oAria": {
                                "sSortAscending":  ": Activar para ordenar la columna de manera ascendente",
                                "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                            }
                        }}
                    );
                    var OT_DATOS_2 = $('#table_ot_plan_t_mano').DataTable({
                            "scrollY":        "600px",//tamanho de la tabla
                            "scrollCollapse": true, //collapse de la tabla  
                            "language": {
                            "sProcessing":     "Procesando...",
                            "sLengthMenu":     "Mostrar _MENU_ registros",
                            "sZeroRecords":    "No se encontraron resultados",
                            "sEmptyTable":     "Ningún dato disponible en esta tabla",
                            "sInfo":           "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                            "sInfoEmpty":      "Mostrando registros del 0 al 0 de un total de 0 registros",
                            "sInfoFiltered":   "(filtrado de un total de _MAX_ registros)",
                            "sInfoPostFix":    "",
                            "sSearch":         "Buscar:",
                            "sUrl":            "",
                            "sInfoThousands":  ",",
                            "sLoadingRecords": "Cargando...",
                            "oPaginate": {
                                "sFirst":    "Primero",
                                "sLast":     "Último",
                                "sNext":     "Siguiente",
                                "sPrevious": "Anterior"
                            },
                            "oAria": {
                                "sSortAscending":  ": Activar para ordenar la columna de manera ascendente",
                                "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                            }
                        }}
                    );
                    var OT_DATOS_3 = $('#table_ot_real_m_mano').DataTable({
                            "scrollY":        "600px",//tamanho de la tabla
                            "scrollCollapse": true, //collapse de la tabla  
                            "language": {
                            "sProcessing":     "Procesando...",
                            "sLengthMenu":     "Mostrar _MENU_ registros",
                            "sZeroRecords":    "No se encontraron resultados",
                            "sEmptyTable":     "Ningún dato disponible en esta tabla",
                            "sInfo":           "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                            "sInfoEmpty":      "Mostrando registros del 0 al 0 de un total de 0 registros",
                            "sInfoFiltered":   "(filtrado de un total de _MAX_ registros)",
                            "sInfoPostFix":    "",
                            "sSearch":         "Buscar:",
                            "sUrl":            "",
                            "sInfoThousands":  ",",
                            "sLoadingRecords": "Cargando...",
                            "oPaginate": {
                                "sFirst":    "Primero",
                                "sLast":     "Último",
                                "sNext":     "Siguiente",
                                "sPrevious": "Anterior"
                            },
                            "oAria": {
                                "sSortAscending":  ": Activar para ordenar la columna de manera ascendente",
                                "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                            }
                        }}
                    );
                    var OT_DATOS_4 = $('#table_ot_real_t_mano').DataTable({
                            "scrollY":        "600px",//tamanho de la tabla
                            "scrollCollapse": true, //collapse de la tabla  
                            "language": {
                            "sProcessing":     "Procesando...",
                            "sLengthMenu":     "Mostrar _MENU_ registros",
                            "sZeroRecords":    "No se encontraron resultados",
                            "sEmptyTable":     "Ningún dato disponible en esta tabla",
                            "sInfo":           "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                            "sInfoEmpty":      "Mostrando registros del 0 al 0 de un total de 0 registros",
                            "sInfoFiltered":   "(filtrado de un total de _MAX_ registros)",
                            "sInfoPostFix":    "",
                            "sSearch":         "Buscar:",
                            "sUrl":            "",
                            "sInfoThousands":  ",",
                            "sLoadingRecords": "Cargando...",
                            "oPaginate": {
                                "sFirst":    "Primero",
                                "sLast":     "Último",
                                "sNext":     "Siguiente",
                                "sPrevious": "Anterior"
                            },
                            "oAria": {
                                "sSortAscending":  ": Activar para ordenar la columna de manera ascendente",
                                "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                            }
                        }}
                    );
                    var OT_DATOS_5 = $('#table_ot_real_n_mano').DataTable({
                            "scrollY":        "600px",//tamanho de la tabla
                            "scrollCollapse": true, //collapse de la tabla  
                            "language": {
                            "sProcessing":     "Procesando...",
                            "sLengthMenu":     "Mostrar _MENU_ registros",
                            "sZeroRecords":    "No se encontraron resultados",
                            "sEmptyTable":     "Ningún dato disponible en esta tabla",
                            "sInfo":           "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                            "sInfoEmpty":      "Mostrando registros del 0 al 0 de un total de 0 registros",
                            "sInfoFiltered":   "(filtrado de un total de _MAX_ registros)",
                            "sInfoPostFix":    "",
                            "sSearch":         "Buscar:",
                            "sUrl":            "",
                            "sInfoThousands":  ",",
                            "sLoadingRecords": "Cargando...",
                            "oPaginate": {
                                "sFirst":    "Primero",
                                "sLast":     "Último",
                                "sNext":     "Siguiente",
                                "sPrevious": "Anterior"
                            },
                            "oAria": {
                                "sSortAscending":  ": Activar para ordenar la columna de manera ascendente",
                                "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                            }
                        }}
                    );

                    //tabla asignacion OT en gastos (add y editar)
                    var OT_DATOS_GASTO = $('#table_modal_ot_gastos').DataTable({
                            "scrollY":        "600px",//tamanho de la tabla
                            "scrollCollapse": true, //collapse de la tabla  
                            "language": {
                            "sProcessing":     "Procesando...",
                            "sLengthMenu":     "Mostrar _MENU_ registros",
                            "sZeroRecords":    "No se encontraron resultados",
                            "sEmptyTable":     "Ningún dato disponible en esta tabla",
                            "sInfo":           "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                            "sInfoEmpty":      "Mostrando registros del 0 al 0 de un total de 0 registros",
                            "sInfoFiltered":   "(filtrado de un total de _MAX_ registros)",
                            "sInfoPostFix":    "",
                            "sSearch":         "Buscar:",
                            "sUrl":            "",
                            "sInfoThousands":  ",",
                            "sLoadingRecords": "Cargando...",
                            "oPaginate": {
                                "sFirst":    "Primero",
                                "sLast":     "Último",
                                "sNext":     "Siguiente",
                                "sPrevious": "Anterior"
                            },
                            "oAria": {
                                "sSortAscending":  ": Activar para ordenar la columna de manera ascendente",
                                "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                            }
                        }}
                    );

                    //tabla asignacion OT en INGRESOS (add y editar)
                    var OT_DATOS_INGRESOS = $('#table_modal_ot_ingresos').DataTable({
                            "scrollY":        "600px",//tamanho de la tabla
                            "scrollCollapse": true, //collapse de la tabla  
                            "language": {
                            "sProcessing":     "Procesando...",
                            "sLengthMenu":     "Mostrar _MENU_ registros",
                            "sZeroRecords":    "No se encontraron resultados",
                            "sEmptyTable":     "Ningún dato disponible en esta tabla",
                            "sInfo":           "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                            "sInfoEmpty":      "Mostrando registros del 0 al 0 de un total de 0 registros",
                            "sInfoFiltered":   "(filtrado de un total de _MAX_ registros)",
                            "sInfoPostFix":    "",
                            "sSearch":         "Buscar:",
                            "sUrl":            "",
                            "sInfoThousands":  ",",
                            "sLoadingRecords": "Cargando...",
                            "oPaginate": {
                                "sFirst":    "Primero",
                                "sLast":     "Último",
                                "sNext":     "Siguiente",
                                "sPrevious": "Anterior"
                            },
                            "oAria": {
                                "sSortAscending":  ": Activar para ordenar la columna de manera ascendente",
                                "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                            }
                        }}
                    );


                    /*JQUERY PARA ASIGNAR EL NOMBRE DEL EMPLEADO EN EL FORM https://stackoverflow.com/questions/36550092/how-to-get-selected-values-from-datatable?rq=1*/
                    $('#table_rrhh_mano tbody').on('click', 'tr', function () {
                        //$(this).toggleClass('selected');
                        var pos = RRHH_DATOS.row(this).index();
                        var row = RRHH_DATOS.row(pos).data();
                        console.log(row);//debug en la consola del navegador
                        //aca tenemos que asignar el valor
                        $('#codigo').val(row[0]);
                        $('#empleado').val(row[1]);
                        $('#jornal').val(row[5]);
                    } );

                    /*JQUERY PARA ASIGNAR DATOS DE LA OT EN LOS CAMPOS DE CLIENTE Y OBRA PLAN MANANA*/
                    $('#table_ot_plan_m_mano tbody').on( 'click', 'tr', function () {
                        //$(this).toggleClass('selected');
                        var pos = OT_DATOS_1.row(this).index();
                        var row = OT_DATOS_1.row(pos).data();
                        //console.log(row);//debug en la consola del navegador
                        //aca tenemos que asignar el valor
                        $('#cliente_plan_m').val(row[9]);
                        $('#obra_plan_m').val(row[10]);
                        $('#ot_plan_m').val(row[0]);
                        $('#encargado').val(row[12]);
                        $('#trato_cliente').val(row[13]);
                    } );
                    /*JQUERY PARA ASIGNAR DATOS DE LA OT EN LOS CAMPOS DE CLIENTE Y OBRA PLAN TARDE*/
                    $('#table_ot_plan_t_mano tbody').on( 'click', 'tr', function () {
                        //$(this).toggleClass('selected');
                        var pos = OT_DATOS_2.row(this).index();
                        var row = OT_DATOS_2.row(pos).data();
                        //console.log(row);//debug en la consola del navegador
                        //aca tenemos que asignar el valor
                        $('#cliente_plan_t').val(row[9]);
                        $('#obra_plan_t').val(row[10]);
                        $('#ot_plan_t').val(row[0]);
                        $('#encargado2').val(row[12]);
                        $('#trato_cliente2').val(row[13]);
                    } );
                    /*JQUERY PARA ASIGNAR DATOS DE LA OT EN LOS CAMPOS DE CLIENTE Y OBRA REAL MANANA*/
                    $('#table_ot_real_m_mano tbody').on( 'click', 'tr', function () {
                        //$(this).toggleClass('selected');
                        var pos = OT_DATOS_3.row(this).index();
                        var row = OT_DATOS_3.row(pos).data();
                        //console.log(row);//debug en la consola del navegador
                        //aca tenemos que asignar el valor
                        $('#cliente_real_m').val(row[9]);
                        $('#obra_real_m').val(row[10]);
                        $('#ot_real_m').val(row[0]);
                        $('#encargado').val(row[12]);
                        $('#trato_cliente').val(row[13]);
                    } );
                    /*JQUERY PARA ASIGNAR DATOS DE LA OT EN LOS CAMPOS DE CLIENTE Y OBRA REAL TARDE*/
                    $('#table_ot_real_t_mano tbody').on( 'click', 'tr', function () {
                        //$(this).toggleClass('selected');
                        var pos = OT_DATOS_4.row(this).index();
                        var row = OT_DATOS_4.row(pos).data();
                        //console.log(row);//debug en la consola del navegador
                        //aca tenemos que asignar el valor
                        $('#cliente_real_t').val(row[9]);
                        $('#obra_real_t').val(row[10]);
                        $('#ot_real_t').val(row[0]);
                        $('#encargado2').val(row[12]);
                        $('#trato_cliente2').val(row[13]);
                    } );
                    $('#table_ot_real_n_mano tbody').on( 'click', 'tr', function () {
                        //$(this).toggleClass('selected');
                        var pos = OT_DATOS_5.row(this).index();
                        var row = OT_DATOS_5.row(pos).data();
                        //console.log(row);//debug en la consola del navegador
                        //aca tenemos que asignar el valor
                        $('#cliente_real_n').val(row[9]);
                        $('#obra_real_n').val(row[10]);
                        $('#ot_real_n').val(row[0]);
                    } );
                    //modal de asignacion de ot en GASTOS
                    $('#table_modal_ot_gastos tbody').on( 'click', 'tr', function () {
                        //$(this).toggleClass('selected');
                        var pos = OT_DATOS_GASTO.row(this).index();
                        var row = OT_DATOS_GASTO.row(pos).data();
                        //console.log(row);//debug en la consola del navegador
                        //asignamos el valor
                        $('#nro_ot').val(row[0]);
                    } );

                    $('#table_modal_ot_ingresos tbody').on( 'click', 'tr', function () {
                        //$(this).toggleClass('selected');
                        var pos = OT_DATOS_INGRESOS.row(this).index();
                        var row = OT_DATOS_INGRESOS.row(pos).data();
                        //console.log(row);//debug en la consola del navegador
                        //asignamos el valor
                        $('#nro_ot').val(row[0]);
                    } );

                });
            </script>

        </div>
    </div>

</body>


</html> 